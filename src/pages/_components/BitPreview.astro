---
import { type CollectionEntry, getEntry } from 'astro:content';
import PostPreview from '@components/PostPreview.astro';

interface Props {
  bit: CollectionEntry<'bits'>;
}

const { bit } = Astro.props;
const author = await getEntry(
  bit.data.authored_by.collection,
  bit.data.authored_by.id
);
---

<PostPreview
  url={`/bits/${bit.slug}`}
  title={bit.data.heading}
  tags={bit.data.tags}
  publishedAt={bit.data.published_at}
  author={{ id: author.id, name: author.data.name }}
/>
